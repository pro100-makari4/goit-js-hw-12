import{a as S,S as v,i as I}from"./assets/vendor-5b76a5ec.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();const P="42558168-62173c93aab0d4cbf34bb4fab",q="https://pixabay.com/api/";async function h(e,o=1){try{let i=await S.get(`${q}?key=${P}&q=${e}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15&page=${o}`);if(!i.data.hits)throw new Error("Network response was not ok");return i.data}catch{}}const $=document.querySelector(".go-top-btn");$.addEventListener("click",()=>{window.scrollTo({top:0})});function C(){const e=E();let o=window.scrollY;window.scrollTo({top:o+e})}function E(){const e=document.querySelector(".gallery-item").getBoundingClientRect();return window.innerWidth<=500?e.height*2+24:e.height*2+20*2}const T="/goit-js-hw-12/assets/error-icon-4ed38f6a.png",k="/goit-js-hw-12/assets/caution-icon-57f96af6.png",g=document.querySelector(".form"),x=document.querySelector(".search-input"),u=document.querySelector(".gallery"),r=document.querySelector(".load-more-button"),a=document.querySelector(".loader"),M=new v(".gallery a",{captionsData:"alt",captionDelay:150,captionsPosition:"bottom"});let m,c,f=null;g.addEventListener("submit",N);r.addEventListener("click",O);async function N(e){e.preventDefault(),B();try{c=(await h(f,1)).hits,c.length===0?d():p(c,u)}catch{d()}finally{c.length===0?(r.classList.add("is-hidden"),a.classList.add("is-hidden")):(y(),g.reset())}}async function O(){r.classList.add("is-hidden"),a.classList.remove("is-hidden");let e=!1;try{const i=(await h(f,++m)).hits;i.length===0?(e=!0,d(e)):p(i,u)}catch{d()}finally{e?(r.classList.add("is-hidden"),a.classList.add("is-hidden")):(y(),C())}}function B(){u.innerHTML="",r.classList.add("is-hidden"),a.classList.remove("is-hidden"),f=x.value,m=1}function d(e=!1){const o=e?"Were sorry, but you've reached the end of search results.":"Sorry, there are no images matching your search query. Please try again!",i=e?k:T;I.error({message:o,position:"topRight",timeout:5e3,progressBar:!0,close:!0,iconUrl:i,messageColor:e?"#000":"#fafafb",iconColor:e?"#000":"#fafafb",backgroundColor:e?"#90C2DE":"#FF544B"})}function y(){a.classList.add("is-hidden"),r.classList.remove("is-hidden")}function p(e,o){const i=e.map(({webformatURL:l,largeImageURL:t,tags:s,likes:n,views:b,comments:w,downloads:L})=>`<li class="gallery-item">
          <a class="gallery-link" href="${t}">
            <img class="gallery-image" src="${l}" alt="${s}" />
          </a>

          <ul class="gallery-info-list">
            <li class="gallery-info-list-item"><h4>Likes</h4><p>${n}</p></li>
            <li class="gallery-info-list-item"><h4>Views</h4><p>${b}</p></li>
            <li class="gallery-info-list-item"><h4>Comments</h4><p>${w}</p></li>
            <li class="gallery-info-list-item"><h4>Downloads</h4><p>${L}</p></li>
          </ul>
        </li>`).join("");o.insertAdjacentHTML("beforeend",i),M.refresh()}const D=document.querySelector('input[type="checkbox"]');D.addEventListener("change",function(){this.checked?(document.body.style.backgroundColor="#2C2C2F",document.body.style.color="#fbfbfb"):document.body.style.backgroundColor="#fbfbfb"});
//# sourceMappingURL=commonHelpers.js.map
